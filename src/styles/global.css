/* ====================================================================== */
/* Mid MO Tours — Global Styles (Tailwind v4 + brand utilities + helpers) */
/* Drop this file into: src/styles/global.css                              */
/* ====================================================================== */

@import "tailwindcss";
@import "@fortawesome/fontawesome-svg-core/styles.css";

/* ---------------------------------------------------------------------- */
/* Brand tokens                                                            */
/* ---------------------------------------------------------------------- */
:root {
  /* Base */
  --font-size: 16px;
  --background: #ffffff;
  --foreground: oklch(0.145 0 0); /* near-black */
  --card: #ffffff;
  --card-foreground: var(--foreground);

  /* Brand seeds */
  --brand-seed: #002a3a; /* Blue */
  --accent-seed: #ca902b; /* Gold */
  --secondary-seed: #b83226; /* Red */

  /* Readable text colors on brand surfaces */
  --on-brand: #ffffff; /* blue → white text */
  --on-accent: oklch(0.145 0 0); /* gold → near-black (white fails WCAG) */
  --on-secondary: #ffffff; /* red → white text */

  /* Legacy primary maps to brand (so bg-primary works) */
  --primary: var(--brand-seed);
  --primary-foreground: var(--on-brand);

  /* Support tokens */
  --muted: #ececf0;
  --muted-foreground: #717182;
  --destructive: #d4183d;
  --destructive-foreground: #ffffff;
  --border: rgba(0, 0, 0, 0.1);
  --input: transparent;
  --input-background: #f3f3f5;
  --switch-background: #cbced4;
  --ring: color-mix(in oklch, var(--accent-seed) 45%, transparent); /* gold-tinted focus */

  --radius: 0.625rem;

  /* Sidebar (optional) */
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: var(--foreground);
  --sidebar-primary: var(--brand-seed);
  --sidebar-primary-foreground: #fff;
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: var(--ring);

  /* Fonts (load in <head> with Google Fonts links) */
  --font-sans: Inter, Roboto, "Helvetica Neue", Arial, ui-sans-serif, system-ui, -apple-system, "Segoe UI", "Noto Sans";
  --font-serif: "Fraunces", ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  --font-display: var(--font-serif);

  /* Surfaces */
  --surface: var(--background);
  --on-surface: var(--foreground);
}

/* ---------------------------------------------------------------------- */
/* Tailwind v4 theme mapping (exposes tokens as color families)           */
/* ---------------------------------------------------------------------- */
@theme inline {
  /* Expose UI tokens */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-border: var(--border);
  --color-input: var(--input);
  --color-input-background: var(--input-background);
  --color-switch-background: var(--switch-background);
  --color-ring: var(--ring);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* Fonts */
  --font-sans: var(--font-sans);
  --font-serif: var(--font-serif);
  --font-display: var(--font-display);

  /* BRAND (blue) family */
  --color-brand-50: color-mix(in oklch, var(--brand-seed), white 95%);
  --color-brand-100: color-mix(in oklch, var(--brand-seed), white 90%);
  --color-brand-200: color-mix(in oklch, var(--brand-seed), white 82%);
  --color-brand-300: color-mix(in oklch, var(--brand-seed), white 70%);
  --color-brand-400: color-mix(in oklch, var(--brand-seed), white 58%);
  --color-brand-500: color-mix(in oklch, var(--brand-seed), white 45%);
  --color-brand-600: color-mix(in oklch, var(--brand-seed), white 32%); /* default primary depth */
  --color-brand-700: color-mix(in oklch, var(--brand-seed), white 20%);
  --color-brand-800: color-mix(in oklch, var(--brand-seed), white 10%);
  --color-brand-900: var(--brand-seed);
  --color-brand: var(--brand-seed);
  --color-brand-foreground: var(--on-brand);

  /* ACCENT (gold) family */
  --color-accent-50: color-mix(in oklch, var(--accent-seed), white 95%);
  --color-accent-100: color-mix(in oklch, var(--accent-seed), white 90%);
  --color-accent-200: color-mix(in oklch, var(--accent-seed), white 80%);
  --color-accent-300: color-mix(in oklch, var(--accent-seed), white 65%);
  --color-accent-400: color-mix(in oklch, var(--accent-seed), white 50%);
  --color-accent-500: var(--accent-seed);
  --color-accent-600: color-mix(in oklch, var(--accent-seed), black 12%);
  --color-accent-700: color-mix(in oklch, var(--accent-seed), black 22%);
  --color-accent-800: color-mix(in oklch, var(--accent-seed), black 32%);
  --color-accent-900: color-mix(in oklch, var(--accent-seed), black 42%);
  --color-accent: var(--color-accent-500);
  --color-accent-foreground: var(--on-accent);

  /* SECONDARY (red) family */
  --color-secondary-50: color-mix(in oklch, var(--secondary-seed), white 95%);
  --color-secondary-100: color-mix(in oklch, var(--secondary-seed), white 90%);
  --color-secondary-200: color-mix(in oklch, var(--secondary-seed), white 80%);
  --color-secondary-300: color-mix(in oklch, var(--secondary-seed), white 65%);
  --color-secondary-400: color-mix(in oklch, var(--secondary-seed), white 50%);
  --color-secondary-500: color-mix(in oklch, var(--secondary-seed), white 35%);
  --color-secondary-600: var(--secondary-seed);
  --color-secondary-700: color-mix(in oklch, var(--secondary-seed), black 12%);
  --color-secondary-800: color-mix(in oklch, var(--secondary-seed), black 24%);
  --color-secondary-900: color-mix(in oklch, var(--secondary-seed), black 36%);
  --color-secondary: var(--color-secondary-600);
  --color-secondary-foreground: var(--on-secondary);

  /* Surfaces */
  --color-surface: var(--surface);
  --color-surface-foreground: var(--on-surface);
}

/* ---------------------------------------------------------------------- */
/* Base layer & typography                                                 */
/* ---------------------------------------------------------------------- */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  html {
    font-size: var(--font-size);
  }
  body {
    @apply bg-background text-foreground font-sans antialiased;
  }
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-serif;
  }
}

/* Optional “sane defaults” if no text-* utilities applied */
@layer base {
  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) {
    h1 {
      font-size: var(--text-2xl);
      line-height: 1.4;
      font-weight: 600;
    }
    h2 {
      font-size: var(--text-xl);
      line-height: 1.45;
      font-weight: 600;
    }
    h3 {
      font-size: var(--text-lg);
      line-height: 1.5;
      font-weight: 600;
    }
    p,
    label,
    button,
    input {
      font-size: var(--text-base);
      line-height: 1.5;
    }
    label,
    button {
      font-weight: 500;
    }
  }
}

/* ---------------------------------------------------------------------- */
/* Global polish                                                           */
/* ---------------------------------------------------------------------- */
html,
body {
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
::selection {
  background: color-mix(in srgb, var(--accent-seed) 20%, transparent);
  color: var(--foreground);
}

/* Better focus ring */
:where(a, button, [role="button"], input, select, textarea):focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 2px;
}

/* Visually hidden (keep for a11y labels) */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Section container helper */
.section {
  @apply mx-auto max-w-7xl px-4;
}
.section-tight {
  @apply py-10;
}
.section {
  @apply py-16;
}
.section-loose {
  @apply py-24;
}
.section-muted {
  @apply bg-slate-50;
}

/* Rich text wrapper for Markdown content */
.richtext > * + * {
  margin-top: 0.75rem;
}
.richtext h2 {
  @apply text-xl font-semibold mt-6;
}
.richtext ul {
  @apply list-disc pl-5 text-slate-700;
}
.richtext ol {
  @apply list-decimal pl-5 text-slate-700;
}
.richtext blockquote {
  @apply border-l-4 pl-4 text-slate-700;
}

/* ---------------------------------------------------------------------- */
/* Components                                                              */
/* ---------------------------------------------------------------------- */

/* Cards & badges */
.card {
  @apply rounded-2xl border shadow-sm bg-white;
}
.card-body {
  @apply p-5;
}
.card-footer {
  @apply border-t bg-slate-50 p-4;
}

.badge {
  @apply inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-xs font-medium;
}
.badge-gold {
  @apply border-accent-500 text-brand-900;
  background: var(--color-accent-50);
}
.badge-outline {
  @apply border-slate-300 text-slate-700 bg-white;
}

/* Buttons */
.btn {
  @apply inline-flex items-center justify-center rounded-full px-8 py-3 text-base transition font-serif font-bold;
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.06);
}
.btn:disabled {
  @apply opacity-60 cursor-not-allowed;
}

.btn-primary {
  @apply bg-brand text-primary-foreground hover:bg-brand-700;
}
.btn-accent {
  @apply bg-accent text-accent-foreground hover:bg-accent-600;
}
.btn-secondary {
  @apply bg-secondary text-secondary-foreground hover:bg-secondary-700;
}
.btn-outline {
  @apply border border-slate-300 text-slate-800 hover:bg-slate-50;
}

.btn-sm {
  @apply px-3 py-2 text-xs;
}
.btn-lg {
  @apply px-6 py-3.5 text-base;
}
.btn-block {
  @apply w-full;
}

.link-brand {
  @apply text-brand-700 hover:text-brand-900 underline-offset-2 hover:underline;
}

/* Alerts (from standalone → Tailwind-native) */
.alert {
  @apply rounded-xl border p-4;
}
.alert-title {
  @apply font-semibold mb-1;
}
.alert-desc {
  @apply text-sm text-slate-700;
}

.alert-info {
  @apply border-sky-200 bg-sky-50;
}
.alert-success {
  @apply border-emerald-200 bg-emerald-50;
}
.alert-warning {
  @apply border-amber-200 bg-amber-50;
}
.alert-danger {
  @apply border-rose-200 bg-rose-50;
}

/* Simple nav */
.nav {
  @apply border-b bg-background;
}
.nav-bar {
  @apply flex items-center justify-between gap-4 py-3;
}
.nav-links {
  @apply flex gap-2;
}
.nav-link {
  @apply inline-flex items-center rounded-md px-3 py-2 text-sm text-slate-800 hover:bg-slate-100;
}
.nav-link[aria-current="page"] {
  @apply bg-slate-100;
}

/* Hero (image or solid) */
.hero {
  @apply relative border-b bg-white;
  isolation: isolate;
}
.hero-image {
  @apply text-white;
  background-size: cover;
  background-position: center;
}
.hero-inner {
  padding-block: clamp(3rem, 8vw, 6rem);
}
.hero-eyebrow {
  @apply inline-block text-xs uppercase tracking-wide text-slate-500;
}
.hero-image .hero-eyebrow {
  color: rgba(255, 255, 255, 0.9);
}
.hero-title {
  font-size: clamp(2rem, 5vw, 3rem);
  line-height: 1.15;
  @apply font-serif mt-1 mb-1;
}
.hero-subtitle {
  font-size: clamp(1.125rem, 2.5vw, 1.375rem);
  @apply text-slate-700 max-w-prose;
}
.hero-image .hero-subtitle {
  color: rgba(255, 255, 255, 0.9);
}
.hero-actions {
  @apply mt-6;
}

.hero .btn {
  @apply text-lg;
}

/* Media block */
.media {
  @apply grid gap-4 items-center;
  grid-template-columns: 140px 1fr;
}
.media-img img {
  @apply rounded-md;
}
.media-title {
  @apply m-0 text-lg font-semibold;
}
.media-desc {
  @apply mt-1 text-slate-600;
}
@media (max-width: 40rem) {
  .media {
    grid-template-columns: 1fr;
  }
}

/* Tables */
.table {
  @apply w-full border-collapse text-[0.95rem];
}
.table th,
.table td {
  @apply px-3.5 py-3 border-b;
}
.table thead th {
  @apply border-b-2 text-slate-600 font-semibold;
}

/* Forms (primitives that play nice with Tailwind) */
.form {
  @apply grid gap-5;
}
.form-group {
  @apply grid gap-2;
}
.label {
  @apply text-sm font-semibold;
}
.help {
  @apply text-sm text-slate-600;
}
.error {
  @apply text-sm text-rose-600;
}

.input,
.textarea,
.select {
  @apply w-full rounded-md border border-slate-300 bg-white text-slate-900 px-3 py-2 transition;
}
.input:focus,
.textarea:focus,
.select:focus {
  @apply outline-none ring-2 ring-[--color-ring] ring-offset-1 border-transparent;
}

.input-sm {
  @apply px-2.5 py-1.5 text-sm;
}
.input-lg {
  @apply px-4 py-3 text-base rounded-lg;
}

.checkbox,
.radio {
  @apply inline-flex items-center gap-2 cursor-pointer;
}
.checkbox input,
.radio input {
  accent-color: var(--color-brand-700);
}

/* Footer */
.footer {
  @apply border-t bg-primary text-slate-600 text-sm py-10;
}

/* Motion prefs */
@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important;
  }
}
