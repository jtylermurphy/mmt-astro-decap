---
import "../styles/global.css";
import HeaderNav from "@/components/HeaderNav.astro";
import Footer from "@/components/Footer.astro";
import { loadChrome } from "@/lib/data/chrome";

const {
  title = "Mid MO Tours",
  description = "Guided tours and shuttles in Jefferson City",
  image = "/uploads/tour-standard-hero.png",
  ogType = "website",
  pageClass = "",
} = Astro.props;
const { header, footer } = await loadChrome();
const siteUrl = "https://midmotours.com";
const canonical = new URL(Astro.url.pathname, "https://midmotours.com").toString();
const ogImage = new URL(image, siteUrl).toString();
---

<html lang="en" class="h-full">
  <head>
    <!-- Google Tag Manager -->
    <script is:inline>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-KJHMSSJF");
    </script>
    <!-- End Google Tag Manager -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="icon" type="image" href="/favicon.png" />
    <meta name="robots" content="index,follow" />
    <meta name="geo.region" content="US-MO" />
    <meta name="geo.placename" content="Jefferson City" />
    <meta property="og:site_name" content="Mid Mo Tours" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:url" content={canonical} />
    <meta property="og:type" content={ogType} />

    <meta property="og:image" content={ogImage} />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />
    <meta name="twitter:site" content="@midmotours" />
    <meta name="twitter:creator" content="@midmotours" />

    <link rel="canonical" href={canonical} />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:ital,wght@0,500..900;1,500..900&family=Inter:wght@100..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class={`bg-gray-100 min-h-screen flex flex-col text-slate-800 ${pageClass}`}>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-KJHMSSJF"
        height="0"
        width="0"
        style="display:none;visibility:hidden"></iframe></noscript
    >
    <!-- End Google Tag Manager (noscript) -->
    <HeaderNav {...header} />

    <main id="main" class="grow w-full mx-auto max-w-7xl px-4 py-12">
      <slot />
    </main>

    <Footer {...footer} />
    <script type="application/ld+json" is:inline>
      {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Mid MO Tours",
        "url": "https://midmotours.com/",
        "telephone": "+1-573-826-9236",
        "email": "info@midmotours.com",
        "image": "https://midmotours.com/uploads/tour-standard-hero.png",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "610 Bolivar St.",
          "addressLocality": "Jefferson City",
          "addressRegion": "MO",
          "postalCode": "65101",
          "addressCountry": "US"
        },
        "sameAs": [
          "https://www.facebook.com/profile.php?id=61581798931233",
          "https://www.instagram.com/midmotours",
          "https://x.com/midmotours"
        ]
      }
    </script>

    <script type="application/ld+json" is:inline>
      {
        "@context": "https://schema.org",
        "@type": "Service",
        "name": "Jefferson City Tours",
        "provider": { "@type": "LocalBusiness", "name": "Mid MO Tours", "url": "https://midmotours.com/" },
        "areaServed": { "@type": "City", "name": "Jefferson City" },
        "serviceType": "Guided tours and shuttles"
      }
    </script>
  </body>
</html>
