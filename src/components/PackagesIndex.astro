---
// src/components/PackagesIndex.astro
import TourCard from "./TourCard.astro";

type Card = {
  title: string;
  teaser?: string;
  duration?: string;
  priceNumber?: number;
  priceText?: string;
  scheduleText?: string;
  thumbnailSrc?: string;
  href?: string;
  formUrl?: string;
  bookingUrl?: string;
  ctaLabel?: string;
};

interface Props {
  title?: string;
  intro?: string;
  items: Card[];
}

const { title, intro, items = [] } = Astro.props as Props;
---

<section class="">
  <div class="mx-auto max-w-7xl px-4 py-12">
    {
      title && (
        <header class="mb-8">
          <h1 class="text-3xl font-serif font-semibold tracking-tight text-slate-900">{title}</h1>
          {intro && <p class="mt-3 text-slate-600">{intro}</p>}
        </header>
      )
    }

    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {
        items.map((card) => (
          <TourCard
            title={card.title}
            teaser={card.teaser ?? card.priceText}
            duration={card.duration}
            scheduleText={card.scheduleText}
            priceNumber={card.priceNumber}
            thumbnailSrc={card.thumbnailSrc}
            href={card.href}
            formUrl={card.formUrl}
            bookingUrl={card.bookingUrl}
            ctaLabel={card.ctaLabel ?? (card.bookingUrl ? "Book Now" : card.formUrl ? "Request Info" : "See Details")}
          />
        ))
      }
    </div>
  </div>
</section>
